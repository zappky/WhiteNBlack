@model SmokeFreeApplication.Models.Story

@{
    ViewBag.Title = "ViewStory";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<br />

<div class="btnDiv"><a class="btn btn-outline-primary" href='javascript:history.go(-1)'>Back</a></div>


<br />

<div id="details" class="mx-auto" style="max-width: 70rem;">
    <h2> @Html.DisplayFor(model => model.title)</h2>
    <span class="font-weight-light">@Html.DisplayFor(model => model.postDate)  |  </span>
    <span class="font-weight-light">@Html.ActionLink(Model.userName, "MemberProfile", "InterestedParty", new { viewUsername = Model.userName }, new { page = 1 }) </span>
    <br />
    <br />
    <div>@Html.Raw(ViewBag.storyDetails)</div>
    <br />
    @foreach (var tag in ViewBag.tagList)
    {
        <span class="badge badge-dark"> @Html.Raw(tag) </span>
    }
</div>
<br />
<br />
<br />

<h2>Comments</h2>
<hr />
<div class="jumbotron" style="padding:10px">
    @Html.Action("CreateComment", "Comments", new SmokeFreeApplication.Controllers.CommentQuery(Model.storyID, "S"))
</div>
<div id="accordion">
    @Html.Action("ViewComment", "Comments", new SmokeFreeApplication.Controllers.CommentQuery(Model.storyID, "S"))
</div>

@section Scripts
{
    <link href="~/Content/comment.css" rel="stylesheet">
    <link href="~/Content/story-style.css" rel="stylesheet">
}